SQLアンチパターン

# 2章 ナイーブツリー（素朴な木）
## 目的
- 階層構造を格納し、クエリを発行する

## アンチパターン
- 隣接リスト　parent_idを持たせて親子関係を表す方法
  - DBで本来シンプルかつ効率的に行えるべきことでも、多くのコードが必要になってしまう。

## 解決策
- 隣接リストモデルの代替となるものには、経路列挙モデル、入子集合モデル、閉包テーブルモデルなどがある。

# 3章 IDリクワイアド（とりあえずID）
## 目的：主キーの規約を確立する
- 意味を持たない人工的な値を主キーにする場合（例：id列）、このタイプの主キー列を疑似キーや代理キーと呼ぶ場合がある。

## アンチパターン：すべてのテーブルに「id」列を用いる

## アンチパターンを用いても良い場合
- 「設定より規約」を原則としたORMフレームワークを使い、その規約で列名id・データ型整数の疑似キーを採用している場合

## 解決策：状況に応じて適切に調整する
- わかりやすい列名にしよう
  - メタデータの命名規則について、Joe Celko 「SQL Programming Style」でSQLに焦点を当てた解説が読める。
- 規約に縛られない
- 自然キー（自然に主キーに使えそうな列）と復号キーの活用
