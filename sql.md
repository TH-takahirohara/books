SQL 第2版 ゼロから始めるデータベース操作

# 第0章 イントロダクション
macでのpostgresqlインストール
- [この記事](https://qiita.com/ksh-fthr/items/b86ba53f8f0bccfd7753)を参照

設定後のログイン
```
psql -Upostgres
```

DBの作成、psqlの終了
```
postgres=# CREATE DATABASE shop;
CREATE DATABASE
postgres=# \q
```

学習用データベースshopへのログイン
```
% psql -Upostgres -dshop
psql (13.1)
Type "help" for help.

shop=#
```
後の章ではこのDBでSQLを実行していく。

# 第1章 データベースとSQL

## 1-1 データベースとは何か
- 大量の情報を保存し、コンピュータから効率よくアクセスできるように加工したデータの集まりのことを「データベース」と呼ぶ。
- データベースを管理するコンピュータシステムのことを、「データベース管理システム（DBMS）」と呼ぶ。
- DBMSを使うことにより、大量のデータを多人数でも安全かつ簡単に扱える。
- 本書では「リレーショナルデータベース（RDB）」を「SQL」という専門言語で操作する方法を学ぶ。RDBは「リレーショナルデータベース管理システム（RDBMS）」で管理する。

## 1-2 データベースの構成
- RDBMSは一般に、「クライアント／サーバ型」のシステム構成で使用される。
- RDBMSはサーバの一種で、ハードディスクに保存されているデータベースからデータを取り出して返したり、指示された内容でデータを書き換えたりする。
- RDBMSのクライアント（サーバに要求を出すプログラム）は、サーバであるRDBMSにSQL文を送信する。RDBMSはその文の内容に従ってデータを返信したりする。
- **SQL文の内容に従ってクライアントに返信されるデータも、必ずテーブルと同じように2次元表の形になる。**
- **RDBでは、必ず行単位でデータを読み書きする。**
- 行と列が交わる1つのマス目を、本書ではセルと呼ぶ。**1つのセルの中には、1つのデータしか入れられない。**

## 1-3 SQLの概要
- SQLにはISOで定められた標準規格があり、それに準拠したSQLを**標準SQL**と呼ぶ。最近は様々なRDBMSで標準SQLのサポートが進んでいるので、標準SQLの書き方を覚えると良い。（本書も標準SQLでの書き方を解説する。）
- SQL文は、RDBMSに与える命令の種類により、次の3つに分類される。最も使われるのはDML。
  - DDL（データ定義言語） CREATE, DROP, ALTER
  - DML（データ操作言語） SELECT, INSERT, UPDATE, DELETE
  - DCL（データ制御言語） COMMIT, ROLLBACK, GRANT, REVOKE
- SQL文の書き方にはいくつかの決まりがある。
  - SQL文の最後にセミコロンをつける。
  - キーワードの大文字・小文字は区別されない。
  - 定数の書き方には決まりがある。
    - SQL文の中に直に書く文字列や日付、数値などを定数と呼ぶ。
    - 文字列はシングルクォーテーションで囲む。数値は何かの記号で囲む必要はない。
  - 単語は半角スペースか改行で区切る。

## 1-4 テーブルの作成
- RDBMS上にデータベースを作成するSQL文
```
CREATE DATABASE <データベース名>;
```
- テーブルの作成
```
CREATE TABLE <テーブル名>
(<列名1> <データ型> <この列の制約>,
 <列名2> <データ型> <この列の制約>,
 <列名3> <データ型> <この列の制約>
 ...
 <このテーブルの制約1>, <このテーブルの制約2>, ...);
```
- DBやテーブル、列などの名前に使って良い文字は、半角のアルファベット、半角数字、アンダーバーのみである。
- 名前の最初の文字は「半角のアルファベット」にする。
- 名前は重複してはならない。（1つのデータベースに同じ名前のテーブルを2つは作れない）

### データ形
- CHAR型：　固定長文字列　CHAR(8)などで最大文字数を指定する。格納する文字数が最大長に満たない場合は、空白スペースで埋める
- VARCHAR型：　可変長文字列　格納する文字数が最大長に満たなくても、そのまま格納する。

### キー
- キーとは、特定のデータを指定するときに使う列の組み合わせのこと。
- 主キーは1つの行を特定できる列のこと。主キー制約を設定すると、その列には重複した値を格納できない。
